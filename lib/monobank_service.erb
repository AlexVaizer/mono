[Unit]
Description=Sinatra Monobank service
After=network.target
StartLimitIntervalSec=0

[Service]
Type=simple
User=root
Environment=<%= "'MONO_SERV_IP=#{@env_values['ip']}'" %>
Environment=<%= "'MONO_SERV_PORT=#{@env_values['port']}'" %>
Environment=<%= "'MONO_TOKEN=#{@env_values['mono_token']}'" %>
Environment=<%= "'MONO_BASIC_AUTH_USER=#{@env_values['mono_user']}'" %>
Environment=<%= "'MONO_BASIC_AUTH_PASS=#{@env_values['mono_pass']}'" %>
Environment=<%= "'MONO_SSL_FOLDER=#{@env_values['mono_ssl']}'" %>
Environment=<%= "'ETH_TOKEN=#{@env_values['eth_token']}'" %>
Environment=<%= "'ETH_ADDRESSES=#{@env_values['eth_address']}'" %>
Environment=<%= "'MONO_DB_PATH=#{@env_values['db_path']}'" %>
WorkingDirectory=<%=ServerSettings::CURRENT_FOLDER%>
ExecStart=<%=File.join(ServerSettings::CURRENT_FOLDER, 'monobank.rb -e production')%>
ExecStop=<%=File.join(ServerSettings::CURRENT_FOLDER,'stop.rb')%>


SyslogIdentifier=monobank.service


[Install]
WantedBy=default.target
